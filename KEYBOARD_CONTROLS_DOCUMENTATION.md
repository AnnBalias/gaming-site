# –°–∏—Å—Ç–µ–º–∞ –∫–µ—Ä—É–≤–∞–Ω–Ω—è —á–µ—Ä–µ–∑ –∫–ª–∞–≤—ñ–∞—Ç—É—Ä—É –¥–ª—è —ñ—Ñ—Ä–µ–π–º—É

## –û–≥–ª—è–¥

–°–∏—Å—Ç–µ–º–∞ –∫–µ—Ä—É–≤–∞–Ω–Ω—è –±—É–ª–∞ –ø–æ–≤–Ω—ñ—Å—Ç—é –ø–µ—Ä–µ—Ä–æ–±–ª–µ–Ω–∞ –¥–ª—è —Ä–æ–±–æ—Ç–∏ —á–µ—Ä–µ–∑ –∫–ª–∞–≤—ñ–∞—Ç—É—Ä—É –∑–∞–º—ñ—Å—Ç—å –≤—ñ–∑—É–∞–ª—å–Ω–∏—Ö –∫–Ω–æ–ø–æ–∫. –¢–µ–ø–µ—Ä –∫–µ—Ä—É–≤–∞–Ω–Ω—è –∑–¥—ñ–π—Å–Ω—é—î—Ç—å—Å—è —á–µ—Ä–µ–∑ postMessage API –º—ñ–∂ –±–∞—Ç—å–∫—ñ–≤—Å—å–∫–∏–º –≤—ñ–∫–Ω–æ–º —Ç–∞ —ñ—Ñ—Ä–µ–π–º–æ–º.

## –ê—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞

### –ë–∞—Ç—å–∫—ñ–≤—Å—å–∫–µ –≤—ñ–∫–Ω–æ (main.js)
- –û–±—Ä–æ–±–ª—è—î –ø–æ–¥—ñ—ó –∫–ª–∞–≤—ñ–∞—Ç—É—Ä–∏
- –í—ñ–¥–ø—Ä–∞–≤–ª—è—î –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è —á–µ—Ä–µ–∑ postMessage
- –§–æ–∫—É—Å—É—î —ñ—Ñ—Ä–µ–π–º –¥–ª—è –∫—Ä–∞—â–æ–≥–æ –¥–æ—Å–≤—ñ–¥—É

### –Ü—Ñ—Ä–µ–π–º (iframe-keyboard-handler.js)
- –û—Ç—Ä–∏–º—É—î –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è —á–µ—Ä–µ–∑ postMessage
- –í–∏–∫–æ–Ω—É—î –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω—ñ –¥—ñ—ó –≤ –≥—Ä—ñ
- –ü—ñ–¥—Ç—Ä–∏–º—É—î —è–∫ postMessage, —Ç–∞–∫ —ñ –ø—Ä—è–º—ñ –ø–æ–¥—ñ—ó –∫–ª–∞–≤—ñ–∞—Ç—É—Ä–∏

## –ü—ñ–¥—Ç—Ä–∏–º—É–≤–∞–Ω—ñ –∫–ª–∞–≤—ñ—à—ñ

### –û—Å–Ω–æ–≤–Ω—ñ –∫–ª–∞–≤—ñ—à—ñ –∫–µ—Ä—É–≤–∞–Ω–Ω—è
- **–°—Ç—Ä—ñ–ª–∫–∏**: ‚Üë‚Üì‚Üê‚Üí (—Ä—É—Ö)
- **WASD**: W (–≤–≥–æ—Ä—É), A (–≤–ª—ñ–≤–æ), S (–≤–Ω–∏–∑), D (–≤–ø—Ä–∞–≤–æ)
- **Space**: –°—Ç—Ä–∏–±–æ–∫
- **Enter**: –ü—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è
- **Escape**: –ü–∞—É–∑–∞
- **Z, X, C**: –î–æ–¥–∞—Ç–∫–æ–≤—ñ –¥—ñ—ó

### –ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è –∫–ª–∞–≤—ñ—à
```javascript
const KEYBOARD_CONFIG = {
  'ArrowUp': { action: 'moveUp', keyCode: 38 },
  'ArrowDown': { action: 'moveDown', keyCode: 40 },
  'ArrowLeft': { action: 'moveLeft', keyCode: 37 },
  'ArrowRight': { action: 'moveRight', keyCode: 39 },
  'KeyW': { action: 'moveUp', keyCode: 87 },
  'KeyA': { action: 'moveLeft', keyCode: 65 },
  'KeyS': { action: 'moveDown', keyCode: 83 },
  'KeyD': { action: 'moveRight', keyCode: 68 },
  'Space': { action: 'jump', keyCode: 32 },
  'Enter': { action: 'confirm', keyCode: 13 },
  'Escape': { action: 'pause', keyCode: 27 },
  'KeyZ': { action: 'action1', keyCode: 90 },
  'KeyX': { action: 'action2', keyCode: 88 },
  'KeyC': { action: 'action3', keyCode: 67 }
};
```

## –§—É–Ω–∫—Ü—ñ—ó –∫–µ—Ä—É–≤–∞–Ω–Ω—è

### –û—Å–Ω–æ–≤–Ω—ñ —Ñ—É–Ω–∫—Ü—ñ—ó
- `moveUp()` - —Ä—É—Ö –≤–≥–æ—Ä—É
- `moveDown()` - —Ä—É—Ö –≤–Ω–∏–∑
- `moveLeft()` - —Ä—É—Ö –≤–ª—ñ–≤–æ
- `moveRight()` - —Ä—É—Ö –≤–ø—Ä–∞–≤–æ
- `jump()` - —Å—Ç—Ä–∏–±–æ–∫
- `confirm()` - –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è
- `pause()` - –ø–∞—É–∑–∞
- `action1()`, `action2()`, `action3()` - –¥–æ–¥–∞—Ç–∫–æ–≤—ñ –¥—ñ—ó

### –Ü–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è –∑ –≥—Ä–æ—é
```javascript
// –ü—Ä–∏–∫–ª–∞–¥ —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—ó –∑ —ñ—Å–Ω—É—é—á–æ—é –≥—Ä–æ—é
if (window.gameInstance && typeof window.gameInstance.moveUp === 'function') {
  window.gameInstance.moveUp();
}
```

## –ë–µ–∑–ø–µ–∫–∞

### –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –ø–æ—Ö–æ–¥–∂–µ–Ω–Ω—è –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å
```javascript
if (event.origin !== window.location.origin && 
    !event.origin.includes('gamemonetize.co') && 
    !event.origin.includes('localhost')) {
  return;
}
```

### –û–±—Ä–æ–±–∫–∞ –ø–æ–º–∏–ª–æ–∫
- –í—Å—ñ –æ–ø–µ—Ä–∞—Ü—ñ—ó –æ–±–≥–æ—Ä–Ω—É—Ç—ñ –≤ try-catch
- –¢–∏—Ö–∞ –æ–±—Ä–æ–±–∫–∞ –ø–æ–º–∏–ª–æ–∫ –¥–ª—è cross-origin —ñ—Ñ—Ä–µ–π–º—ñ–≤
- Fallback –Ω–∞ –ø—Ä—è–º—ñ –ø–æ–¥—ñ—ó –∫–ª–∞–≤—ñ–∞—Ç—É—Ä–∏

## –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è

### 1. –ü—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è —Å–∫—Ä–∏–ø—Ç–∞
–î–æ–¥–∞–π—Ç–µ `iframe-keyboard-handler.js` –¥–æ —ñ—Ñ—Ä–µ–π–º—É –∞–±–æ —ñ–Ω–∂–µ–∫—Ç—É–π—Ç–µ –π–æ–≥–æ —á–µ—Ä–µ–∑ postMessage.

### 2. –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –≥—Ä–∏
```javascript
// –°—Ç–≤–æ—Ä—ñ—Ç—å –æ–±'—î–∫—Ç gameInstance –∑ –º–µ—Ç–æ–¥–∞–º–∏ –∫–µ—Ä—É–≤–∞–Ω–Ω—è
window.gameInstance = {
  moveUp: () => { /* –ª–æ–≥—ñ–∫–∞ —Ä—É—Ö—É –≤–≥–æ—Ä—É */ },
  moveDown: () => { /* –ª–æ–≥—ñ–∫–∞ —Ä—É—Ö—É –≤–Ω–∏–∑ */ },
  moveLeft: () => { /* –ª–æ–≥—ñ–∫–∞ —Ä—É—Ö—É –≤–ª—ñ–≤–æ */ },
  moveRight: () => { /* –ª–æ–≥—ñ–∫–∞ —Ä—É—Ö—É –≤–ø—Ä–∞–≤–æ */ },
  jump: () => { /* –ª–æ–≥—ñ–∫–∞ —Å—Ç—Ä–∏–±–∫–∞ */ },
  // ... —ñ–Ω—à—ñ –º–µ—Ç–æ–¥–∏
};
```

### 3. –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è
```javascript
// –î–ª—è —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ –≥–ª–æ–±–∞–ª—å–Ω–∏–π –æ–±'—î–∫—Ç
window.keyboardHandler.gameControls.moveUp();
```

## –ü–µ—Ä–µ–≤–∞–≥–∏ –Ω–æ–≤–æ—ó —Å–∏—Å—Ç–µ–º–∏

### ‚úÖ –ü–æ–∫—Ä–∞—â–µ–Ω–Ω—è
- **–ß–∏—Å—Ç—ñ—à–∏–π –∫–æ–¥** - –≤–∏–¥–∞–ª–µ–Ω–æ –≤—Å—ñ –∫–Ω–æ–ø–∫–∏ —Ç–∞ —ó—Ö —Å—Ç–∏–ª—ñ
- **–ö—Ä–∞—â–∏–π UX** - –ø—Ä—è–º–µ –∫–µ—Ä—É–≤–∞–Ω–Ω—è –∫–ª–∞–≤—ñ–∞—Ç—É—Ä–æ—é
- **–ö—Ä–æ—Å-–ø–ª–∞—Ç—Ñ–æ—Ä–º–µ–Ω–Ω—ñ—Å—Ç—å** - –ø—Ä–∞—Ü—é—î –Ω–∞ –≤—Å—ñ—Ö –ø—Ä–∏—Å—Ç—Ä–æ—è—Ö
- **–ë–µ–∑–ø–µ–∫–∞** - –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞ –ø–æ—Ö–æ–¥–∂–µ–Ω–Ω—è –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å
- **–ì–Ω—É—á–∫—ñ—Å—Ç—å** - –ª–µ–≥–∫–æ –¥–æ–¥–∞–≤–∞—Ç–∏ –Ω–æ–≤—ñ –∫–ª–∞–≤—ñ—à—ñ

### üîß –¢–µ—Ö–Ω—ñ—á–Ω—ñ –ø–µ—Ä–µ–≤–∞–≥–∏
- **–ú–µ–Ω—à–∏–π —Ä–æ–∑–º—ñ—Ä** - –≤–∏–¥–∞–ª–µ–Ω–æ ~60% CSS –∫–æ–¥—É
- **–ö—Ä–∞—â–∞ –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å** - –Ω–µ–º–∞—î DOM –º–∞–Ω—ñ–ø—É–ª—è—Ü—ñ–π
- **–õ–µ–≥—à–∞ –ø—ñ–¥—Ç—Ä–∏–º–∫–∞** - –ø—Ä–æ—Å—Ç–∏–π –∫–æ–¥ –±–µ–∑ —Å–∫–ª–∞–¥–Ω–∏—Ö —Å—Ç–∏–ª—ñ–≤
- **–ú–∞—Å—à—Ç–∞–±–æ–≤–∞–Ω—ñ—Å—Ç—å** - –ª–µ–≥–∫–æ —Ä–æ–∑—à–∏—Ä—é–≤–∞—Ç–∏ —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω—ñ—Å—Ç—å

## –í—ñ–¥–ª–∞–¥–∫–∞

### –ö–æ–Ω—Å–æ–ª—å–Ω—ñ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è
–°–∏—Å—Ç–µ–º–∞ –≤–∏–≤–æ–¥–∏—Ç—å –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –≤ –∫–æ–Ω—Å–æ–ª—å –¥–ª—è –≤—ñ–¥–ª–∞–¥–∫–∏:
- `"Keyboard handler initialized for iframe"`
- `"Move Up"`, `"Move Down"`, —Ç–æ—â–æ –ø—Ä–∏ –Ω–∞—Ç–∏—Å–∫–∞–Ω–Ω—ñ –∫–ª–∞–≤—ñ—à

### –ì–ª–æ–±–∞–ª—å–Ω—ñ –æ–±'—î–∫—Ç–∏
```javascript
// –î–æ—Å—Ç—É–ø –¥–æ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—ó
window.keyboardHandler.KEYBOARD_CONFIG

// –î–æ—Å—Ç—É–ø –¥–æ —Ñ—É–Ω–∫—Ü—ñ–π –∫–µ—Ä—É–≤–∞–Ω–Ω—è
window.keyboardHandler.gameControls

// –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è –æ–±—Ä–æ–±–∫–∏ –ø–æ–¥—ñ–π
window.keyboardHandler.handleKeyboardEvent(data)
```

## –ú—ñ–≥—Ä–∞—Ü—ñ—è –∑ —Å—Ç–∞—Ä–æ—ó —Å–∏—Å—Ç–µ–º–∏

### –í–∏–¥–∞–ª–µ–Ω–æ
- ‚úÖ –í—Å—ñ HTML –∫–Ω–æ–ø–∫–∏ –∫–µ—Ä—É–≤–∞–Ω–Ω—è
- ‚úÖ CSS —Å—Ç–∏–ª—ñ –¥–ª—è –∫–Ω–æ–ø–æ–∫
- ‚úÖ JavaScript –º–µ—Ç–æ–¥–∏ –¥–ª—è touch controls
- ‚úÖ Responsive controls –ª–æ–≥—ñ–∫–∞

### –ó–∞–ª–∏—à–µ–Ω–æ
- ‚úÖ Fullscreen —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω—ñ—Å—Ç—å
- ‚úÖ –ê—É–¥—ñ–æ –∫–æ–Ω—Ç–µ–∫—Å—Ç –∞–∫—Ç–∏–≤–∞—Ü—ñ—è
- ‚úÖ –û–±—Ä–æ–±–∫–∞ –ø–æ–º–∏–ª–æ–∫ —ñ—Ñ—Ä–µ–π–º—É
- ‚úÖ YYGGames —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è

## –ü—ñ–¥—Ç—Ä–∏–º–∫–∞ –±—Ä–∞—É–∑–µ—Ä—ñ–≤

- ‚úÖ Chrome/Chromium
- ‚úÖ Firefox
- ‚úÖ Safari
- ‚úÖ Edge
- ‚úÖ –ú–æ–±—ñ–ª—å–Ω—ñ –±—Ä–∞—É–∑–µ—Ä–∏ (—á–µ—Ä–µ–∑ –∑–æ–≤–Ω—ñ—à–Ω—é –∫–ª–∞–≤—ñ–∞—Ç—É—Ä—É)

## –ü—Ä–∏–º—ñ—Ç–∫–∏

1. **Cross-origin –æ–±–º–µ–∂–µ–Ω–Ω—è**: –î–ª—è cross-origin —ñ—Ñ—Ä–µ–π–º—ñ–≤ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è —Ç—ñ–ª—å–∫–∏ postMessage
2. **–ú–æ–±—ñ–ª—å–Ω—ñ –ø—Ä–∏—Å—Ç—Ä–æ—ó**: –ü–æ—Ç—Ä–µ–±—É—é—Ç—å –∑–æ–≤–Ω—ñ—à–Ω—å–æ—ó –∫–ª–∞–≤—ñ–∞—Ç—É—Ä–∏ –¥–ª—è –∫–µ—Ä—É–≤–∞–Ω–Ω—è
3. **–Ü–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è**: –ü–æ—Ç—Ä–µ–±—É—î –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è gameInstance –æ–±'—î–∫—Ç–∞ –≤ –≥—Ä—ñ
4. **–í—ñ–¥–ª–∞–¥–∫–∞**: –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ –¥–ª—è —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è
