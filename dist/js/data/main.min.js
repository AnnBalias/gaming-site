let gameData=null,fallbackData={meta:{title:"QuestSagaOnline.com - Rhythmic Music Battle",description:"Dive into crazy rhythms and extraordinary duels. Press arrows in time with the beats to hit every note and stay in rhythm!",keywords:"questsagaonline, rhythm game, music game, dance game, battle, music"},header:{nav:[{href:"#hero",text:"Home"},{href:"#game",text:"Game"},{href:"#how-to-play",text:"How to Play"},{href:"#news",text:"News"},{href:"#contact",text:"Contact"}]},game:{title:"Play Friday Night Funkin",description:"Click the button below to start the game",overlayTitle:"Ready to play?",overlayText:"Click to start the musical battle",startButton:"Start Game",fullscreenButton:"Fullscreen"},howToPlay:{title:"How to Play",description:"Master the rhythm and become the ultimate music warrior",steps:[{step:"1",title:"Choose Your Character",text:"Select from Boyfriend, Girlfriend, or unlock special characters with unique abilities."},{step:"2",title:"Master the Controls",text:"Use arrow keys (← ↑ ↓ →) to hit notes in time with the music. Timing is everything!"},{step:"3",title:"Build Combos",text:"Chain perfect hits to build combos and increase your score multiplier."},{step:"4",title:"Survive the Battle",text:"Keep your health bar above zero while maintaining rhythm accuracy."},{step:"5",title:"Unlock New Songs",text:"Complete challenges to unlock new songs and difficulty levels."}]},reviews:{title:"Player Reviews",description:"What our players say about the game",items:[{name:"RhythmMaster",rating:5,text:"Amazing rhythm game! The music is catchy and the gameplay is addictive. Perfect for music lovers!"},{name:"BeatBoxer",rating:5,text:"Best rhythm game I've played in years. The difficulty progression is perfect and keeps me coming back."},{name:"MusicLover",rating:4,text:"Great game with awesome music selection. The visual effects are stunning and the gameplay is smooth."}]},news:{title:"Latest News",description:"Stay up to date with the latest events and announcements",items:[{title:"New Song Pack Released!",date:"2025-01-15",excerpt:"Experience 10 new challenging songs with unique rhythms and beats. Available now for all players!"},{title:"Tournament Season 3 Begins",date:"2025-01-10",excerpt:"Join the competitive scene and compete against players worldwide. Prizes and recognition await!"},{title:"Community Update",date:"2025-01-05",excerpt:"We've listened to your feedback and implemented several improvements to enhance your gaming experience."}]},contact:{title:"Contact Us",description:"Have questions or suggestions? Write to us!",info:{email:"contact@questsagaonline.com",address:"123 Gaming Street, Sydney NSW 2000, Australia",phone:"+61 2 9123 4567",discord:"Join our Discord server"},form:{nameLabel:"Name",namePlaceholder:"Enter your name",emailLabel:"Email",emailPlaceholder:"Enter your email",messageLabel:"Message",messagePlaceholder:"Enter your message",submitText:"Send Message"}},disclaimer:{title:"Disclaimer",description:"Important information about using our website and game",blocks:[{title:"Terms of Use",content:"By using this website and game, you agree to our terms of service and community guidelines."},{title:"Age Restrictions",content:"This game is suitable for players aged 13 and above. Parental guidance is recommended for younger players."},{title:"Liability",content:"We are not responsible for any damages or losses resulting from the use of our website or game."},{title:"Technical Requirements",content:"Ensure your device meets the minimum system requirements for optimal gameplay experience."},{title:"Privacy",content:"Your privacy is important to us. Please review our Privacy Policy for detailed information."},{title:"Changes to Terms",content:"We reserve the right to modify these terms at any time. Continued use constitutes acceptance of changes."}]},footer:{sections:[{title:"Game",links:[{href:"#game",text:"Overview"},{href:"#how-to-play",text:"How to Play"},{href:"#reviews",text:"Reviews"}]},{title:"Community",links:[{href:"#news",text:"News"},{href:"#contact",text:"Contact"}]},{title:"Legal",links:[{href:"privacy.html",text:"Privacy Policy"},{href:"terms.html",text:"Terms of Service"},{href:"cookies.html",text:"Cookie Policy"}]}],copyright:"© All rights reserved, 2025"},cookieBar:{message:"We use cookies to improve your experience on our website.",accept:"Accept",decline:"Decline"}};async function loadData(){try{var e=await fetch("data.json");if(!e.ok)throw new Error("HTTP error! status: "+e.status);var t=await e.json();gameData=t}catch(e){gameData=fallbackData}window.gameData=gameData,initializeRendering()}function initializeRendering(){setTimeout(()=>{renderGameSection(),renderHowToPlay(),renderReviews(),renderNews(),renderContact(),renderDisclaimer(),renderFooter(),renderCookieBar(),setupNewsModal()},100)}function renderGameSection(){var e,t,a,n,i;gameData&&gameData.game&&(e=gameData.game,t=document.querySelector(".game-section .section-title"),a=document.querySelector(".game-section .section-description"),n=document.getElementById("start-game-btn"),i=document.getElementById("fullscreen-btn-text"),t&&(t.textContent=e.title||"Play Friday Night Funkin"),a&&(a.textContent=e.description||"Click the button below to start the game"),n&&(n.textContent=e.startButton||"Start Game"),i)&&(i.textContent=e.fullscreenButton||"Fullscreen")}function renderHowToPlay(){var e,t,a,n;gameData&&gameData.howToPlay&&(e=gameData.howToPlay,t=document.getElementById("how-to-play-title"),a=document.querySelector(".how-to-play .section-description"),n=document.getElementById("steps-container"),t&&(t.textContent=e.title||"How to Play"),a&&(a.textContent=e.description||"Master the rhythm and become the ultimate music warrior"),n)&&e.steps&&(n.innerHTML=e.steps.map(e=>`
      <div class="step-card">
        <div class="step-card__number">${e.step}</div>
        <div class="step-card__content">
          <h3 class="step-card__title">${e.title}</h3>
          <p class="step-card__description">${e.text||e.description}</p>
        </div>
      </div>
    `).join(""))}function renderReviews(){var e,t,a,n;gameData&&gameData.reviews&&(e=gameData.reviews,n=document.getElementById("reviews-title"),t=document.querySelector(".reviews .section-description"),a=document.getElementById("reviews-grid"),n&&(n.textContent=e.title||"Player Reviews"),t&&(t.textContent=e.description||"What our players say about the game"),a)&&(n=e.reviews||e.items||[],a.innerHTML=n.map(e=>`
      <div class="review-card">
        <div class="review-card__header">
          <img src="assets/images/user.jpg" alt="${e.player||e.name}" class="review-card__avatar" />
          <div class="review-card__info">
            <h4 class="review-card__player">${e.player||e.name}</h4>
            <div class="review-card__rating">
              ${"★".repeat(e.rating)}${"☆".repeat(5-e.rating)}
            </div>
          </div>
        </div>
        <p class="review-card__comment">${e.comment||e.text}</p>
      </div>
    `).join(""))}function renderNews(){var e,t,a,n,i;gameData&&gameData.news&&(e=gameData.news,n=document.getElementById("news-title"),i=document.querySelector(".news .section-description"),t=document.getElementById("news-list"),a=document.getElementById("news-page-list"),n&&(n.textContent=e.title||"Latest News"),i&&(i.textContent=e.description||"Stay up to date with the latest events and announcements"),t&&(n=(e.articles||e.items||[]).slice(0,3),t.innerHTML=n.map((e,t)=>`
      <div class="news-card" data-article-id="${e.id||t+1}">
        <div class="news-card__image">
          <img src="assets/images/post.jpg" alt="${e.title}" />
        </div>
        <div class="news-card__content">
          <h3 class="news-card__title">${e.title}</h3>
          <p class="news-card__excerpt">${e.excerpt}</p>
          <div class="news-card__meta">
            <span class="news-card__date">${new Date(e.date).toLocaleDateString("en-US")}</span>
            <button class="btn btn--ghost news-card__read-more">Read more</button>
          </div>
        </div>
      </div>
    `).join(""),document.querySelectorAll(".news-card").forEach(e=>{e.addEventListener("click",()=>{openNewsModal(e.dataset.articleId)})})),a)&&(i=e.articles||e.items||[],a.innerHTML=i.map((e,t)=>`
      <div class="news-card" data-article-id="${e.id||t+1}">
        <div class="news-card__image">
          <img src="assets/images/post.jpg" alt="${e.title}" />
        </div>
        <div class="news-card__content">
          <h3 class="news-card__title">${e.title}</h3>
          <p class="news-card__excerpt">${e.excerpt}</p>
          <div class="news-card__meta">
            <span class="news-card__date">${new Date(e.date).toLocaleDateString("en-US")}</span>
            <button class="btn btn--ghost news-card__read-more">Read more</button>
          </div>
        </div>
      </div>
    `).join(""),document.querySelectorAll("#news-page-list .news-card").forEach(e=>{e.addEventListener("click",()=>{openNewsModal(e.dataset.articleId)})}))}function openNewsModal(a){var e,t,n,i,o,s=(gameData.news.articles||gameData.news.items||[]).find((e,t)=>(e.id||t+1)==a);s&&(e=document.getElementById("news-modal"),t=document.getElementById("modal-title"),n=document.getElementById("modal-image"),i=document.getElementById("modal-date"),o=document.getElementById("modal-body"),e)&&t&&n&&i&&o&&(t.textContent=s.title,n.src="assets/images/post.jpg",n.alt=s.title,i.textContent=new Date(s.date).toLocaleDateString("en-US"),o.textContent=s.content||s.excerpt,e.classList.add("active"),document.body.classList.add("modal-open"))}function closeNewsModal(){var e=document.getElementById("news-modal");e&&(e.classList.remove("active"),document.body.classList.remove("modal-open"))}function setupNewsModal(){let t=document.getElementById("news-modal");var e=document.getElementById("modal-overlay"),a=document.getElementById("modal-close");t&&e&&a&&(e.addEventListener("click",closeNewsModal),a.addEventListener("click",closeNewsModal),document.addEventListener("keydown",e=>{"Escape"===e.key&&t.classList.contains("active")&&closeNewsModal()}))}function renderContact(){var e,t,a,n,i;gameData&&gameData.contact&&(e=gameData.contact,t=document.getElementById("contact-title"),a=document.querySelector(".contact .section-description"),n=document.getElementById("contact-email"),i=document.getElementById("contact-address"),t&&(t.textContent=e.title||"Contact Us"),a&&(a.textContent=e.description||"Have questions or suggestions? Write to us!"),e.info)&&(n&&(n.href="mailto:"+e.info.email,n.textContent=e.info.email),i)&&(i.textContent=e.info.address)}function renderDisclaimer(){var e,t,a,n;gameData&&gameData.disclaimer&&(e=gameData.disclaimer,t=document.querySelector(".disclaimer-section .section-title"),a=document.querySelector(".disclaimer-section .section-description"),n=document.querySelector(".disclaimer-section .disclaimer-content"),t&&(t.textContent=e.title||"Disclaimer"),a&&(a.textContent=e.description||"Important information about using our website and game"),n)&&e.blocks&&(n.innerHTML=e.blocks.map(e=>`
      <div class="disclaimer-block">
        <h3>${e.title}</h3>
        <p>${e.content}</p>
      </div>
    `).join(""))}function renderFooter(){var e,t;gameData&&gameData.footer&&(e=gameData.footer,t=document.getElementById("footer-copyright"))&&(t.textContent=e.copyright||"© All rights reserved, 2025")}function renderCookieBar(){var e,t,a,n;gameData&&gameData.cookieBar&&(e=gameData.cookieBar,t=document.getElementById("cookie-message"),a=document.getElementById("cookie-accept"),n=document.getElementById("cookie-decline"),t&&(t.textContent=e.message||"We use cookies to improve your experience on our website."),a&&(a.textContent=e.accept||"Accept"),n)&&(n.textContent=e.decline||"Decline")}document.addEventListener("DOMContentLoaded",()=>{loadData()});